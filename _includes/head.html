{%- comment -%}
This file overrides minima's head.html so we can always load MathJax.
It keeps SEO, main.css and feed, then adds MathJax scripts.
{%- endcomment -%}

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

{%- seo -%}

<link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">
<link type="application/atom+xml" rel="alternate" href="{{ '/feed.xml' | relative_url }}" title="{{ site.title | escape }}" />


<!-- MathJax v4 配置（CHTML 输出） -->
<script>
window.MathJax = {
  loader: {
      // 这里写 [tex]/ 前缀（只在配置里用）
      load: ['input/tex-base', // 必备基础库
             'output/chtml', // 必备基础库，用来将tex转换成html
             '[tex]/action', // [tex]/action库包含了\require等宏，可以用来加载其他的宏包
             '[tex]/physics', 
             '[tex]/color', 
             '[tex]/mhchem'
            ]
    },
  tex: {
    // 注册这些包
    packages: {'[+]': ['base', 'action', 'physics', 'color', 'mhchem']},
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    macros: {
        RR: "{\\mathbb{R}}", CC: "{\\mathbb{C}}"
      }
  },
  output: { font: 'mathjax-stix2' }
};
</script>

<!-- 必须用 jsDelivr -->
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-chtml.js"></script>
